{"mappings":"AAAA,MAAM,SAAS;IACX,IAAI;IACJ,WAAW;IACX,YAAY;AAChB;AAEA,MAAM,QAAQ;IAAE,MAAM,CAAC;IAAG,OAAO,CAAC;AAAE;AAEpC,MAAM,OAAO;IACT,SAAS;IACT,aAAa;IAEb,UAAU;IACV,aAAa;IACb,iBAAiB;IAEjB,OAAO;IACP,WAAW;IAEX,QAAQ;IACR,UAAU,CAAC;IACX,WAAW,CAAC;IACZ,YAAY,CAAC;IAEb,cAAc;IAEd,MAAM,MAAM,IAAI;IAChB,iBAAiB,EAAE;IACnB,UAAU;IAEV,WAAW;IACX,aAAa;QAAC;QAAG;KAAE;IACnB,kBAAkB;QAAC;QAAG;KAAE;IACxB,eAAe;IACf,YAAY;IAEZ,oBAAoB,EAAE;IAEtB,kBAAkB;IAClB,kBAAkB;IAElB,UAAU;IAEV,aAAa,CAAC;IACd,YAAY;IACZ,iBAAiB;AACrB;AAEA,MAAM,cAAc;IAChB;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAC3B;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG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","sources":["public/sketch.js"],"sourcesContent":["const socket = {\n    io: null,\n    connected: false,\n    registered: false,\n};\n\nconst input = { keys: {}, mouse: {} };\n\nconst game = {\n    loading: true,\n    loadMessage: 'Starting...',\n\n    isTyping: false,\n    typedString: '',\n    typeLengthLimit: 0,\n\n    error: '',\n    errorAnim: -1,\n\n    inGame: false,\n    gameData: {},\n    localData: {},\n    playerData: {},\n\n    mainMenuAnim: 0,\n\n    menu: menus.main,\n    menuButtonAnims: [],\n    menuAnim: 0,\n\n    matchAnim: 0,\n    boardOrigin: [0, 0],\n    boardTranslation: [0, 0],\n    boardRotation: 0,\n    boardScale: 0,\n\n    boardNotifications: [],\n\n    awaitingKeypress: false,\n    keypressToChange: '',\n\n    hocoAnim: -1,\n\n    leaderboard: {},\n    normalRank: 0,\n    competitiveRank: 0,\n};\n\nconst HOCO_SECRET = [\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n    0, 0, 1, 1, 1, 1, 1, 1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 1, 1, 1, 1, 1 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 1, 1, 1, 1 ,1, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 1, 1, 1, 1, 1 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,0, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,0, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,0, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,0, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,0, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,0, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,0, 0, 0,\n    0, 0, 1, 1, 1, 1, 1 ,1, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 1, 1, 1, 1, 1 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 1, 1, 1, 1, 1 ,1, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 1, 1, 1, 1, 1 ,1, 0, 0,\n    0, 0, 0, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 0, 0, 0, 0, 0 ,1, 0, 0,\n    0, 0, 0, 0, 1, 1, 1 ,1, 0, 0,\n    0, 0, 0, 0, 1, 0, 0 ,0, 0, 0,\n    0, 0, 0, 0, 1, 0, 0 ,0, 0, 0,\n    0, 0, 0, 0, 1, 0, 0 ,0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0 ,0, 0, 0,\n    0, 0, 0, 0, 1, 0, 0 ,0, 0, 0,\n]\n\nconst state = {\n    creatingNewAccount: false,\n    loadingData: false,\n    joiningMatch: false,\n    inSettings: false,\n};\n\nconst images = {\n    nathan: null,\n    small: null,\n};\n\nlet SQUARE_SIZE = 0;\n\nconst controls = {\n    left: 37,\n    right: 39,\n    down: 40,\n    drop: ' '.charCodeAt(0),\n    rotateRight: 38,\n    rotateLeft: 'Z'.charCodeAt(0),\n    rotate180: 'X'.charCodeAt(0),\n    hold: 'C'.charCodeAt(0),\n};\n\nlet settings = null;\n\nconst defaultSettings = {\n    'moveSpeed': 2,\n    'controls.left': 37,\n    'controls.right': 39,\n    'controls.down': 40,\n    'controls.drop': ' '.charCodeAt(0),\n    'controls.rotateRight': 38,\n    'controls.rotateLeft': 'Z'.charCodeAt(0),\n    'controls.rotate180': 'A'.charCodeAt(0),\n    'controls.hold': 'C'.charCodeAt(0),\n};\n\nconst ON_OR_OFF = [{ key: 'on', value: true }, {key: 'off', value: false}];\n\nfunction resetState() {\n    for (let val in state) {\n        state[val] = false;\n    }\n\n    game.inGame = false;\n    game.loading = false;\n    game.loadMessage = '';\n\n    game.isTyping = false;\n    game.typedString = '';\n    game.typeLengthLimit = 0;\n\n    game.error = '';\n    game.errorAnim = -1;\n\n    game.inGame = false;\n    game.gameData = {};\n    game.localData = {};\n    game.playerData = {};\n\n    game.mainMenuAnim = 0;\n\n    game.menu = menus.main;\n    game.menuButtonAnims = [];\n    game.menuAnim = 0;\n\n    game.matchAnim = 0;\n\n    game.boardOrigin = [width / 2, - height / 2];\n    game.boardTranslation = [0, 0];\n    game.boardRotation = 0;\n    game.boardScale = 1;\n\n    game.boardNotifications = [];\n\n    game.awaitingKeypress = false;\n    game.keypressToChange = '';\n\n    game.hocoAnim = -1;\n\n    game.leaderboard = {};\n    game.normalRank = 0;\n    game.competitiveRank = 0;\n}\n\nfunction preload() {\n    images.nathan = loadImage('./assets/nathan.png');\n    images.small = loadImage('./assets/nathan32.png');\n}\n\nfunction setup() {\n    createCanvas();\n    windowResized();\n\n    loadRankIcons();\n\n    reset();\n    connect();\n}\n\nfunction reset() {\n    background(250);\n    \n    game.loading = true;\n    game.loadMessage = 'Starting...';\n\n    socket.io = null;\n    socket.connected = false;\n    socket.registered = false;\n\n    loadSettings();\n\n    resetState();\n}\n\nfunction resetSettings() {\n    settings = null;\n    localStorage.removeItem('chentris_2_settings');\n    loadSettings();\n}\n\nfunction getSetting(key) {\n    if (settings[key]) {\n        return settings[key];\n    } else {\n        settings[key] = defaultSettings[key];\n        saveSettings();\n        return defaultSettings[key];\n    }\n}\n\nfunction setSetting(key, value) {\n    settings[key] = value;\n    saveSettings();\n}\n\nfunction loadSettings() {\n    if (localStorage.getItem('chentris_2_settings')) {\n        settings = JSON.parse(localStorage.getItem('chentris_2_settings'));\n    } else {\n        saveSettings();\n        loadSettings();\n    }\n}\n\nfunction saveSettings() {\n    localStorage.setItem('chentris_2_settings', JSON.stringify(settings || defaultSettings));\n}\n\nfunction getId() {\n    return localStorage.getItem('chentris_2_id');\n}\n\nfunction setId(id) {\n    return localStorage.setItem('chentris_2_id', id || 'null');\n}\n\nfunction loadData() {\n    resetState();\n\n    game.loading = true;\n    game.loadMessage = 'Loading player...';\n\n    state.loadingData = true;\n\n    socket.io.emit('player_data');\n}\n\nfunction connect() {\n    socket.io = io({ query: { id: getId(), forceNew: true} });\n    socket.connected = true;\n\n    game.loading = true;\n    game.loadMessage = 'Connecting...';\n\n    socket.io.on('connect', () => {\n        game.loading = true;\n        game.loadMessage = 'Registering...';\n    });\n\n    socket.io.on('register', (data) => {\n        if (data.registered) {\n            socket.registered = true;\n            \n            loadData();\n        } else {\n            if (data.error === 'INVALID_ID') {\n                game.error = 'The id is invalid. If the issue persists, clear your local storage.';\n                game.errorAnim = 99999;\n            } else if (data.error === 'NULL_ID' || data.error === 'INVALID_USERNAME') {\n                game.loading = false;\n                game.loadMessage = '';\n\n                game.isTyping = true;\n                game.typedString = '';\n                game.typeLengthLimit = 16;\n\n                state.creatingNewAccount = true;\n                \n                if (data.error === 'INVALID_USERNAME') {\n                    game.error = 'Your username is invalid.';\n                    game.errorAnim = 5;\n                }\n            }\n        }\n    });\n\n    socket.io.on('set_id', (data) => {\n        setId(data.id);\n    });\n\n    socket.io.on('player_data', (data) => {\n        game.loading = false;\n        game.loadMessage = '';\n\n        game.playerData = data.user;\n        console.log(data);\n        if (data.leaderboard) {\n            game.leaderboard = data.leaderboard;\n            game.normalRank = data.normalRank;\n            game.competitiveRank = data.competitiveRank;\n        }\n\n        if (!data.inGame) {\n            game.mainMenuAnim = 1;\n            \n            switchMenu('main');\n\n            if (window.location.hash.length >= 1) {\n                \n                if (window.location.hash.length === 5) {\n                    joinMatch(window.location.hash.substring(1));\n                } else {\n                    game.error = 'Invalid match link.';\n                    game.errorAnim = 5;\n                }\n\n            }\n        }\n    });\n\n    socket.io.on('error', (data) => {\n        game.errorAnim = 5;\n        game.error = `Fatal packet error type <${data.type}>: ${data.error}. Reloading in 5 seconds.`;\n        setTimeout(() => {\n            reset();\n            connect();\n        }, 5000);\n    });\n\n    socket.io.on('match_found', data => {\n        game.loading = false;\n        game.loadMessage = '';\n        \n        window.location.hash = '';\n        if (data.error) {\n            game.error = data.message;\n            game.errorAnim = 5;\n            return;\n        }\n\n        game.inGame = true;\n\n        const board = deepCopyBoard(data.match.boards[game.playerData._id]);\n\n        game.gameData = {\n            match: data.match,\n            moves: [],\n        }\n        \n        game.matchAnim = 1;\n        game.boardOrigin = [width / 2, -height / 2]\n        game.boardTranslation = [0, 0];\n        game.boardRotation = 0;\n        game.boardScale = 1;\n\n        game.boardNotifications = [];\n\n        game.localData = {\n            board,\n            state: defaultSubmoveState(),\n            stateAcc: 0,\n            speed: game.gameData.match.rules.initialSpeed,\n            timers: {\n                fall: 0,\n                dropping: false,\n                shortDrop: 0,\n                longDrop: 0,\n            },\n            deadAnim: 0,\n            boardAnims: {},\n            boardSizes: {},\n            ready: false,\n            attackOption: 0,\n        };\n    });\n\n    socket.io.on('board_reset', () => {\n\n        const board = deepCopyBoard(game.gameData.match.boards[game.playerData._id]);\n\n        game.boardOrigin = [width / 2, -height / 2]\n        game.boardTranslation = [0, 0];\n        game.boardRotation = 0;\n        game.boardScale = 1;\n\n        game.gameData = {\n            match: game.gameData.match,\n            moves: [],\n        };\n\n        game.localData = {\n            board,\n            state: defaultSubmoveState(),\n            stateAcc: 0,\n            speed: game.gameData.match.rules.initialSpeed,\n            timers: {\n                fall: 0,\n                dropping: false,\n                shortDrop: 0,\n                longDrop: 0,\n            },\n            deadAnim: 0,\n            boardAnims: {},\n            boardSizes: {},\n            ready: false,\n            attackOption: 0,\n        };\n\n        game.localData.board.move = 0;\n    });\n\n    socket.io.on('match_state', data => {\n        if (!game.inGame) {\n            return;\n        }\n\n        const board = data.match.boards[game.playerData._id];\n        const moveNumber = game.localData.board.move;\n\n        game.gameData = {\n            match: data.match,\n            moves: game.gameData.moves.filter(move => move.num >= board.move),\n        };\n\n        game.localData.board = board;\n        \n        for (let move of game.gameData.moves) {\n            game.localData.board = makeMove(move.move, game.localData.board, Math.seedrandom, game.gameData.match.rules);\n        }\n\n        game.localData.board.move = moveNumber;\n        \n        if (game.gameData.match.newNotification) {\n            game.boardNotifications.push({ text: game.gameData.match.notification, time: 0 });\n        }\n\n    });\n}\n\nfunction joinMatch(code) {\n    socket.io.emit('join_match', { code });\n    game.loading = true;\n    game.loadMessage = 'Joining...';\n}\n\nfunction windowResized() {\n    resizeCanvas(windowWidth, windowHeight);\n    SQUARE_SIZE = (height - 200) / 20;\n}\n\nfunction keyTyped() {\n    if (game.isTyping) {\n        if (game.typedString.length < game.typeLengthLimit && key !== 'Enter') {\n            game.typedString += key;\n        }\n    }\n}\n\nfunction keyPressed() {\n\n    if (game.awaitingKeypress) {\n        if (keyCode !== ESCAPE) {\n            setSetting(game.keypressToChange, keyCode);\n        }\n        game.awaitingKeypress = false;\n        game.keypressToChange = '';\n    }\n\n    if (keyCode === BACKSPACE && game.isTyping) {\n        if (game.typedString.length > 0) {\n            game.typedString = game.typedString.substring(0, game.typedString.length - 1);\n        }\n    }\n    input.keys[keyCode] = 0;\n}\n\nfunction keyReleased() {\n    input.keys[keyCode] = -1;\n}\n\nfunction mousePressed() {\n    input.mouse[mouseButton] = 0;\n}\n\nfunction mouseReleased() {\n    input.mouse[mouseButton] = -1;\n}\n\nfunction updateInput() {\n    for (let key in input.keys) {\n        if (input.keys[key] >= 0) {\n            input.keys[key] += 1;\n        }\n    }\n    for (let button in input.mouse) {\n        if (input.mouse[button] >= 0) {\n            input.mouse[button] += 1;\n        }\n    }\n}\n\nfunction clamp(a, mi, ma) {\n    return min(max(a, mi), ma)\n}\n\nfunction update() {\n    const deltaTime = frameRate() > 0 ? ( 1 / frameRate() ) : 0;\n\n    if (game.errorAnim > 0) {\n        game.errorAnim -= deltaTime;\n    }\n    \n    if (state.creatingNewAccount) {\n        if (input.keys['\\r'.charCodeAt(0)] === 0) {\n            const username = game.typedString.trim().substring(0, 32);\n\n            if (username.length > 0) {\n                socket.io.emit('create_account', { username });\n                game.loading = true;\n                game.loadMessage = 'Registering...';\n                game.creatingNewAccount = false;\n            }\n            \n        }\n    }\n\n    if (socket.registered) {\n\n        game.mainMenuAnim = lerp(game.mainMenuAnim, 0, clamp(0.1 * 60 * deltaTime, 0, 1));\n        game.menuAnim = lerp(game.menuAnim, 0, clamp(0.1 * 60 * deltaTime, 0, 1));\n        game.matchAnim = lerp(game.matchAnim, 0, clamp(0.1 * 60 * deltaTime, 0, 1));\n\n        if (!game.inGame) {\n\n            if (state.joiningMatch) {\n                const match = /[^0-9]/g;\n                game.typedString = game.typedString.replace(match, '');\n\n                const stopJoiningMatch = () => {\n                    state.joiningMatch = false;\n                    game.isTyping = false;\n                    game.typedString = '';\n                    game.typeLengthLimit = 0;\n                };\n\n                buttonState(width / 2 + 160, height / 2 - 50, 40, 20, () => {}, stopJoiningMatch);\n\n                if (input.keys[ESCAPE] === 0) {\n                    stopJoiningMatch();\n                }\n\n                if (game.typedString.length === 4) {\n                    joinMatch(game.typedString);\n\n                    game.isTyping = false;\n                    game.typedString = '';\n                    game.typeLengthLimit = -1;\n                    state.joiningMatch = false;\n                }\n            } else if (state.inSettings) {\n                const leaveOptions = () => {\n                    state.inSettings = false;\n                }\n                buttonState(width / 2 + 460, height / 2 - 300, 40, 20, () => {}, leaveOptions);\n                \n                if (input.keys[ESCAPE] === 0) {\n                    leaveOptions();\n                }\n\n                function awaitKeypress(name) {\n                    game.awaitingKeypress = true;\n                    game.keypressToChange = name;\n                }\n\n                buttonState(width / 2 + 140, height / 2 - 250, 100, 20, () => {}, () => awaitKeypress('controls.left'));\n                buttonState(width / 2 + 140, height / 2 - 220, 100, 20, () => {}, () => awaitKeypress('controls.right'));\n                buttonState(width / 2 + 140, height / 2 - 190, 100, 20, () => {}, () => awaitKeypress('controls.down'));\n                buttonState(width / 2 + 140, height / 2 - 160, 100, 20, () => {}, () => awaitKeypress('controls.drop'));\n                buttonState(width / 2 + 140, height / 2 - 130, 100, 20, () => {}, () => awaitKeypress('controls.rotateLeft'));\n                buttonState(width / 2 + 140, height / 2 - 100, 100, 20, () => {}, () => awaitKeypress('controls.rotateRight'));\n                buttonState(width / 2 + 140, height / 2 - 70, 100, 20, () => {}, () => awaitKeypress('controls.rotate180'));\n                buttonState(width / 2 + 140, height / 2 - 40, 100, 20, () => {}, () => awaitKeypress('controls.hold'));\n\n                buttonState(width / 2 + 340, height / 2 + 260, 150, 30, () => {}, () => resetSettings());\n\n            } else {\n\n                for (let i = 0; i < game.menu.length; i++) {\n                    const mouseOver = (mouseX < 300 && mouseY > 100 + i * 50 && mouseY < 140 + i * 50);\n    \n                    game.menuButtonAnims[i] = lerp(game.menuButtonAnims[i], mouseOver ? 1 : 0, clamp(0.5 * 60 * deltaTime, 0, 1));\n    \n                    if (input.mouse[LEFT] === 0 && mouseOver) {\n                        game.menu[i].onClick();\n                    }\n                }\n\n            }\n\n        }\n    }\n\n    if (game.inGame) {\n\n        if (input.keys['\\r'.charCodeAt(0)] === 0) {\n            if (!game.gameData.match.playing) {\n                game.localData.ready = !game.localData.ready;\n                socket.io.emit('ready', { ready: game.localData.ready });\n            }\n        }\n\n        buttonState(20, 95, 180, 30, () => {}, () => navigator.clipboard.writeText(`https://play.hked.live/chentris2#${game.gameData.match.joinCode}`), !game.gameData.match.options.allowJoining);\n        buttonState(20, 130, 180, 30, () => {}, () => { socket.io.emit('leave_match'); reset(); connect(); }, false);\n\n        if (!game.inGame) {\n            return;\n        }\n\n        function changeOption(name, newValue) {\n            const newOptions = {...game.gameData.match.options};\n            newOptions[name] = newValue;\n            socket.io.emit('match_options', {options: newOptions});\n        }\n        \n        function changeRule(name, newValue) {\n            const newRules = {...game.gameData.match.rules};\n            newRules[name] = newValue;\n            socket.io.emit('match_options', {rules: newRules});\n        }\n\n        selectState(150, 200, 40, 20, ON_OR_OFF, () => game.gameData.match.options.allowJoining, (v) => changeOption('allowJoining', v), false);\n        selectState(150, 225, 40, 20, ON_OR_OFF, () => game.gameData.match.options.public, (v) => changeOption('public', v), false);\n        selectState(150, 250, 40, 20, ON_OR_OFF, () => game.gameData.match.options.ranked, (v) => changeOption('ranked', v), false);\n\n        const comp = game.gameData.match.rules.competitive;\n        selectState(150, 325, 40, 20, ON_OR_OFF, () => comp, (v) => changeRule('competitive', v), false);\n        selectState(150, 350, 40, 20, [ { key: 'slow', value: 80 }, { key: 'medium', value: 320 }, { key: 'fast', value: 640 }, { key: 'very fast', value: 1280 }, { key: 'good luck', value: 5120 }, { key: 'why', value: 40960 }, { key: 'snail', value: 20 }], () => game.gameData.match.rules.initialSpeed, (v) => changeRule('initialSpeed', v), comp);\n        selectState(150, 375, 40, 20, ON_OR_OFF, () => game.gameData.match.rules.resendGarbage, (v) => changeRule('resendGarbage', v), comp);\n        selectState(150, 400, 40, 20, ON_OR_OFF, () => game.gameData.match.rules.forgivingCombos, (v) => changeRule('forgivingCombos', v), comp);\n        selectState(150, 425, 40, 20, [{ key: 'one', value: 1 }, { key: 'two', value: 2 }, { key: 'three', value: 3 }], () => game.gameData.match.rules.garbageTurns, (v) => changeRule('garbageTurns', v), comp);\n        selectState(150, 450, 40, 20, ON_OR_OFF, () => game.gameData.match.rules.garbageDefense, (v) => changeRule('garbageDefense', v), comp);\n\n        if (!game.inGame) {\n            return;\n        }\n\n        for (let notif of game.boardNotifications) {\n            notif.time += deltaTime;\n        }\n        game.boardNotifications = game.boardNotifications.filter(notif => notif.time <= 1);\n\n        if (game.hocoAnim >= 0 && game.hocoAnim <= 100) {\n            game.hocoAnim += deltaTime * 10;\n        } else if (game.hocoAnim > 100) {\n            game.hocoAnim = -1;\n        }\n\n        if (input.keys['J'.charCodeAt(0)] === 0) {\n            game.hocoAnim = 0;\n        }\n\n        let origin = {x: 0, y: 0};\n\n        if (!game.gameData.match.playing || game.gameData.match.players.filter(id => !game.gameData.match.boards[id].lost).length <= 1) {\n            origin = {x: width / 2, y: height / 2};\n        } else {\n            origin = {x: SQUARE_SIZE * 13, y: height / 2};\n        }\n\n        game.boardOrigin[0] = lerp(game.boardOrigin[0], origin.x, clamp(0.1 * 60 * deltaTime, 0, 1));\n        game.boardOrigin[1] = lerp(game.boardOrigin[1], origin.y, clamp(0.1 * 60 * deltaTime, 0, 1));\n\n        game.boardTranslation[0] = lerp(game.boardTranslation[0], 0, clamp(0.1 * 60 * deltaTime, 0, 1));\n        game.boardTranslation[1] = lerp(game.boardTranslation[1], 0, clamp(0.1 * 60 * deltaTime, 0, 1));\n        \n        game.boardRotation = lerp(game.boardRotation, 0, clamp(0.1 * 60 * deltaTime, 0, 1));\n        game.boardScale = lerp(game.boardScale, 1, clamp(0.1 * 60 * deltaTime, 0, 1));\n\n        game.localData.timers.fall += deltaTime;\n        \n        game.localData.stateAcc += deltaTime;\n\n        if (!game.localData.board) {\n            return;\n        }\n\n        if (game.localData.board.lost) {\n            game.localData.deadAnim += deltaTime;\n        } else {\n            game.localData.deadAnim = lerp(game.localData.deadAnim, 0, clamp(0.5 * 60 * deltaTime, 0, 1));\n        }\n\n        if (game.localData.stateAcc > 1 / 20) {\n            game.localData.stateAcc = 0;\n            socket.io.emit('submove_state', { state: game.localData.state, timers: game.localData.timers, attackOption: game.localData.attackOption });\n        }\n\n        if (game.localData.timers.dropping) {\n            game.localData.timers.shortDrop += deltaTime * (input.keys[settings['controls.down']] >= 0 ? 4 : 1);\n            game.localData.timers.longDrop += deltaTime;\n        }\n\n        let move = null;\n\n        if (input.keys[settings['controls.hold']] === 0) {\n            move = { type: 'hold' };\n            if (game.localData.board.canHold) {\n                game.localData.state = defaultSubmoveState();\n            }\n        }\n\n        const fallPerMinute = 60 / game.localData.speed;\n        if (input.keys[settings['controls.down']] % settings['moveSpeed'] === 0 || game.localData.timers.fall >= fallPerMinute) {\n            game.localData.state = makeSubmove('down', game.localData.board, game.localData.state);\n\n            let first = true;\n            while (game.localData.timers.fall >= fallPerMinute) {\n                if (!first) {\n                    game.localData.state = makeSubmove('down', game.localData.board, game.localData.state);\n                }\n                first = false;\n                game.localData.timers.fall -= fallPerMinute;\n            }\n        }\n\n        if (input.keys[settings['controls.left']] % settings['moveSpeed'] === 0 && (input.keys[settings['controls.left']] === 0 || input.keys[settings['controls.left']] > settings['moveSpeed'] * 2)) {\n            game.localData.state = makeSubmove('left', game.localData.board, game.localData.state);\n            if (game.localData.state.lastMoveSuccessful) {\n                game.localData.timers.shortDrop = 0;\n\n                game.boardTranslation[0] -= 2;\n                game.boardRotation -= 0.002;\n            }\n        }\n        \n        if (input.keys[settings['controls.right']] % settings['moveSpeed'] === 0 && (input.keys[settings['controls.right']] === 0 || input.keys[settings['controls.right']] > settings['moveSpeed'] * 2)) {\n            game.localData.state = makeSubmove('right', game.localData.board, game.localData.state);\n            if (game.localData.state.lastMoveSuccessful) {\n                game.localData.timers.shortDrop = 0;\n\n                game.boardTranslation[0] += 2;\n                game.boardRotation += 0.002;\n            }\n            \n        }\n\n        if (input.keys[settings['controls.rotateRight']] === 0) {\n            game.localData.state = makeSubmove('rotateRight', game.localData.board, game.localData.state);\n            if (game.localData.state.lastMoveSuccessful) {\n                game.localData.timers.shortDrop = 0;\n\n                game.boardRotation += 0.001;\n            }\n        }\n\n        if (input.keys[settings['controls.rotateLeft']] === 0) {\n            game.localData.state = makeSubmove('rotateLeft', game.localData.board, game.localData.state);\n            if (game.localData.state.lastMoveSuccessful) {\n                game.localData.timers.shortDrop = 0;\n\n                game.boardRotation -= 0.001;\n            }\n        }\n\n        for (let i = 0; i < 5; i += 1) {\n            if (input.keys[((i + 1).toString()).charCodeAt(0)] === 0) {\n                game.localData.attackOption = i;\n            }\n        }\n\n        if (input.keys[settings['controls.rotate180']] === 0) {\n            game.localData.state = makeSubmove('rotate180', game.localData.board, game.localData.state);\n            \n            if (game.localData.state.lastMoveSuccessful) {\n                game.localData.timers.shortDrop = 0;\n\n                game.boardRotation -= 0.002;\n            }\n        }\n\n        game.localData.timers.dropping = game.localData.state.pieceY === makeSubmove('drop', game.localData.board, game.localData.state).pieceY;\n\n        if (\n            input.keys[settings['controls.drop']] === 0\n            || game.localData.timers.shortDrop >= max(0.5, 120 / game.localData.speed)\n            || game.localData.timers.longDrop >= max(2, 640 / game.localData.speed)\n        ) {\n            if (input.keys[settings['controls.drop']] === 0) {\n                game.localData.state = makeSubmove('drop', game.localData.board, game.localData.state);\n                game.boardTranslation[1] += 10;\n            }\n            move = { type: 'move', submoves: game.localData.state.submoves }\n            game.localData.timers = {\n                fall: 0,\n                dropping: false,\n                shortDrop: 0,\n                longDrop: 0,\n            };\n            game.localData.state = defaultSubmoveState();\n\n        }\n\n        if (move) {\n            game.localData.board = makeMove(move, game.localData.board, Math.seedrandom, game.gameData.match.rules);\n            socket.io.emit('move', { move, time: Date.now() });\n\n            if (game.localData.board.clears > 0) {\n                const clears = game.localData.board.clears;\n                const squareClears = clears ** 2;\n\n                game.boardRotation += clears * 0.1;\n                game.boardScale += squareClears * 0.02;\n            }\n\n            game.gameData.moves.push({ move, num: game.localData.board.move });\n            game.localData.board.move += 1;\n        }\n        \n        if (game.gameData.match.playing) {\n            let i = 0;\n            const count = game.gameData.match.players.filter(id => !game.gameData.match.boards[id].lost).length;\n            const size = count <= 2 ? SQUARE_SIZE : (height - 150) / ceil(sqrt(count - 1)) / 24;\n\n            let spectating = game.gameData.match.boards[game.playerData._id].lost;\n            for (let id of game.gameData.match.players.filter(id => id !== game.playerData._id)) {\n                const idealPos = getIdealPos(i, count - 1, width - 200 - SQUARE_SIZE * 17, height - 200);\n                idealPos[0] += SQUARE_SIZE * 17 + 100;\n                idealPos[1] += 100;\n\n                const isSpectator = spectating && !game.gameData.match.boards[id].lost;\n                if (isSpectator) {\n                    idealPos[0] = game.boardOrigin[0];\n                    idealPos[1] = game.boardOrigin[1];\n                }\n\n                if (!game.localData.boardAnims[id]) {\n                    game.localData.boardAnims[id] = [];\n                    game.localData.boardAnims[id][0] = idealPos[0];\n                    game.localData.boardAnims[id][1] = idealPos[1];\n                    game.localData.boardAnims[id][2] = 0;\n                    game.localData.boardSizes[id] = 0;\n                }\n\n                game.localData.boardAnims[id][0] = lerp(game.localData.boardAnims[id][0], idealPos[0], clamp(0.1 * 60 * deltaTime, 0, 1));\n                game.localData.boardAnims[id][1] = lerp(game.localData.boardAnims[id][1], idealPos[1], clamp(0.1 * 60 * deltaTime, 0, 1));\n\n                game.localData.boardSizes[id] = lerp(game.localData.boardSizes[id], isSpectator ? SQUARE_SIZE : size, clamp(0.05 * 60 * deltaTime, 0, 1));\n\n                if (!game.gameData.match.boards[id].lost) {\n                    if (!isSpectator) {\n                        i += 1;\n                    }\n                } else {\n                    const anim = game.localData.boardAnims[id][2] * 50;\n                    const deadAnimY = (anim ** 2) - 20 * anim;\n                    const deadAnimX = -(anim * log(anim + 1));\n                    game.localData.boardAnims[id][0] = idealPos[0] + deadAnimX;\n                    game.localData.boardAnims[id][1] = idealPos[1] + deadAnimY;\n\n                    game.localData.boardAnims[id][2] += deltaTime;\n                }\n\n                if (isSpectator) {\n                    spectating = false;\n                }\n            }\n            \n        }\n    }\n}\n\nfunction buttonState(x, y, w, h, onHover, onClick, disabled = false) {\n    if (disabled) {\n        return;\n    }\n    if (mouseX > x && mouseY > y && mouseX < x + w && mouseY < y + h) {\n        onHover();\n        if (input.mouse[LEFT] === 0) {\n            onClick();\n        }\n    }\n}\n\nfunction drawButton(x, y, w, h, tx, onHover, onClick, disabled = false) {\n    \n    if (mouseX > x && mouseY > y && mouseX < x + w && mouseY < y + h) {\n        onHover();\n        if (input.mouse[LEFT] === 0) {\n            onClick();\n        }\n    }\n\n    if (disabled) {\n        fill(200);\n    }\n    \n    stroke(0);\n    rect(x, y, w, h);\n\n    textSize(16);\n    textAlign(CENTER, CENTER);\n    textStyle(NORMAL);\n\n    fill(0);\n    noStroke();\n    text(tx, x + w / 2, y + h / 2);\n}\n\nfunction selectState(x, y, w, h, options, getValue, setValue, disabled = false) {\n    if (!options) {\n        return;\n    }\n    const value = getValue();\n    const nextValue = options[mod(options.findIndex(option => option.value === value) + 1, options.length)].value;\n    buttonState(x, y, w, h, () => {}, () => setValue(nextValue), disabled);\n}\n\nfunction drawSelect(x, y, w, h, options, getValue, disabled = false) {\n    const value = getValue();\n    const tx = options.find(option => option.value === value).key;\n    \n    fill(250);\n    drawButton(x, y, w, h, tx, () => fill(240), () => fill(230), disabled);\n}\n\nfunction drawError() {\n    if (game.errorAnim > 0) {\n        fill(250, 150, 150);\n        stroke(0);\n        rect(width / 2 - 300, 200, 600, 50);\n\n        noStroke();\n        fill(0);\n        textAlign(CENTER, CENTER);\n        textSize(16);\n        text(game.error, width / 2, 225);\n    }\n}\n\nfunction drawLoading() {\n    fill(250);\n    strokeWeight(1);\n    stroke(0);\n\n    rect(width / 2 - 100, height / 2 - 60, 200, 120);\n    noStroke();\n    fill(0);\n    textAlign(CENTER, CENTER);\n    textStyle(NORMAL);\n    textSize(16);\n    text(\"Loading...\", width / 2, height / 2 - 40);\n\n    tint(255);\n    push();\n\n    translate(width / 2, height / 2);\n    rotate(millis() * 0.01);\n    image(images.small, -16, -16);\n\n    stroke(0);\n    noFill();\n    rect(-16, -16, 32, 32);\n    pop();\n\n    textSize(10);\n    text(game.loadMessage, width / 2, height / 2 + 40);\n}\n\nfunction drawCreateAccount() {\n    fill(250);\n    strokeWeight(1);\n    stroke(0);\n\n    rect(width / 2 - 250, height / 2 - 125, 500, 200);\n\n    fill(0);\n    noStroke();\n\n    textAlign(CENTER, CENTER);\n    textStyle(BOLD);\n    textSize(16);\n    text('Chentris 2', width / 2, height / 2 - 90);\n\n    textStyle(NORMAL);\n    text('Welcome! Before continuing, please create a username.', width / 2, height / 2 - 50);\n    text('Press enter to continue.', width / 2, height / 2 + 40);\n\n    textSize(32);\n    textWrap(CHAR);\n    text(game.typedString + '_', width / 2 - 250, height / 2, 500);\n}\n\nfunction drawPiece(x, y, rot, size, piece, trans = 255, strokeless = false) {\n    const layout = getRotatedPiece(piece, rot);\n    const color = PIECES[piece].color;\n    (strokeless ? noStroke() : stroke(0));\n    fill(color[0], color[1], color[2], trans);\n    for (let i = 0; i < layout.length; i++) {\n        for (let j = 0; j < layout[i].length; j++) {\n            if (layout[i][j] === 1) {\n                rect(x + j * size, y + i * size, size, size);\n            }\n            \n        }\n    }\n}\n\nfunction getIdealPos(index, size, wi, hi) {\n    if (size <= 0) {\n        return [0.5 * wi, 0.5 * hi];\n    }\n    const minSqrt = ceil(sqrt(size));\n    const y = floor(index / minSqrt);\n    const x = index % minSqrt;\n\n    return [((x + 0.5) / minSqrt) * wi, ((y + 0.5) / minSqrt) * hi];\n}\n\nfunction drawBoard(board, state, timers, squareSize, detail) {\n\n    if (detail >= 0) {\n        fill(250);\n        stroke(0);\n        rect(-5 * squareSize, -10 * squareSize, 10 * squareSize, 20 * squareSize);\n\n        stroke(200);\n        for (let i = 0; i < 19; i++) {\n            line(-5 * squareSize + 1, (-9 + i) * squareSize, 5 * squareSize - 1, (-9 + i) * squareSize);\n        }\n\n        for (let i = 0; i < 9; i++) {\n            line((-4 + i) * squareSize, -10 * squareSize + 1, (-4 + i) * squareSize, 10 * squareSize - 1);\n        }\n    }\n\n    if (detail >= 2) {\n        fill(250);\n        stroke(0);\n        rect(5 * squareSize, -10 * squareSize, 0.5 * squareSize, 20 * squareSize);\n        rect(-5.5 * squareSize, -10 * squareSize, 0.5 * squareSize, 20 * squareSize);\n\n        let sum = 0;\n        for (let i = 0; i < board.garbageQueue.length; i++) {\n            const garbage = board.garbageQueue[i];\n            const amount = garbage.amount\n            sum += amount;\n            if (garbage.turns === 1) {\n                fill(250, 100 + 150 * sin(millis() * 0.04), 100)\n            } else {\n                fill(200);\n            }\n            rect(5 * squareSize, (10 - sum) * squareSize, 0.5 * squareSize, amount * squareSize);\n        }\n        const currentLevel = Math.floor(getJuiceLevel(board.juice));\n        const nextLevel = currentLevel + 1;\n        const progress = map(board.juice, getLevelJuice(currentLevel), getLevelJuice(nextLevel), 0, 1);\n        stroke(0);\n        fill(50 + random(0, 50), 100 + random(0, 50), 200 + random(0, 50));\n        rect(-5.5 * squareSize, (10 - progress * 20) * squareSize, 0.5 * squareSize, progress * 20 * squareSize);\n        for (let i = 0; i < currentLevel; i += 1) {\n            fill(50 + random(0, 50), 100 + random(0, 50), 200 + random(0, 50));\n            rect(-6 * squareSize, (9.5 - i * 0.5) * squareSize, 0.5 * squareSize, 0.5 * squareSize);\n        }\n\n        for (let i = 0; i < 5; i++) {\n            drawPiece(6.5 * squareSize, (-10 + 4 * i) * squareSize, 0, squareSize, board.bag[i + 1]);\n        }\n\n        if (board.hold !== -1) {\n            drawPiece((-6 - PIECES[board.hold].layout.length) * squareSize, -10 * squareSize, 0, squareSize, board.hold, board.canHold ? 255 : 100);\n        }\n    }\n\n    if (detail >= 1) {\n        textAlign(TOP, CENTER);\n        fill(0);\n        noStroke();\n        textSize(16);\n        textStyle(NORMAL);\n\n        drawPiece(\n            (state.pieceX - 5) * squareSize, \n            (state.pieceY - 30) * squareSize, \n            state.pieceRotation,\n            squareSize,\n            board.bag[0],\n            timers.dropping ? ((sin(millis() * 0.02) + 1) * 100 + 50) : 255\n        );\n    }\n\n    if (detail >= 3) {\n\n        const dropSubmove = makeSubmove('drop', board, state);\n\n        drawPiece(\n            (dropSubmove.pieceX - 5) * squareSize, \n            (dropSubmove.pieceY - 30) * squareSize, \n            state.pieceRotation,\n            squareSize,\n            board.bag[0],\n            100,\n            true\n        );\n\n    }\n\n    if (detail >= 1) {\n\n        for (let i = 0; i < 40; i++) {\n            for (let j = 0; j < 10; j++) {\n\n                const index = i * 10 + j;\n                const tile = board.tiles[index];\n                if (tile >= 0) {\n                    const color = PIECES[tile].color;\n                    stroke(0);\n                    fill(color[0], color[1], color[2]);\n                    rect((-5 + j) * squareSize, (-30 + i) * squareSize, squareSize, squareSize);\n                }\n                \n            }\n        }\n\n    }\n\n    if (detail >= 5 && game.hocoAnim >= 0) {\n        const anim = floor(game.hocoAnim);\n        for (let y = 0; y < 20; y += 1) {\n            const indexY = (y + anim) * 10;\n            for (let x = 0; x < 10; x += 1) {\n                const index = indexY + x;\n                if (index >= 0 && index < HOCO_SECRET.length) {\n                    const tile = HOCO_SECRET[index];\n                    \n                    if (tile > 0) {\n                        const color = PIECES[floor(random(0, 7))].color;\n                        stroke(0);\n                        fill(color[0], color[1], color[2]);\n                        rect((-5 + x) * squareSize, (-30 + (y + 20)) * squareSize, squareSize, squareSize);\n                    }\n                }\n            }\n        }\n    }\n\n    if (detail >= 4) {\n\n        const combos = getCombos(board.combo);\n        const count = combos.length;\n        if (count > 0) {\n            \n            noStroke();\n\n            textAlign(RIGHT, CENTER);\n            textStyle(NORMAL);\n            textSize(16);\n            let i = 0;\n            let sumLines = 0;\n            let juice = 0;\n            for (let combo of combos) {\n                sumLines += combo.lines.count;\n\n                if (sumLines <= 1) {\n                    fill(30, 50, 150);\n                } else if (sumLines <= 2) {\n                    fill(140, 60, 10);\n                } else if (sumLines <= 3) {\n                    fill(80, 30, 140);\n                } else if (sumLines <= 4) {\n                    fill(30, 150, 130);\n                } else if (sumLines <= 5) {\n                    fill(140, 130, 10)\n                } else if (sumLines <= 6) {\n                    fill(30, 140, 20);\n                } else if (sumLines <= 7) {\n                    fill(140, 30, 50);\n                } else {\n                    let r = random(0, 1) < 0.5;\n                    let g = random(0, 1) < 0.5;\n                    let b = random(0, 1) < 0.5 && (!r && !g);\n\n                    fill(r ? 250 : 50, g ? 250 : 50, b ? 250 : 50);\n                }\n\n                text(combo.name, -7 * squareSize, (-3.5 + i) * squareSize);\n                rect(-6.75 * squareSize, (-3.9 + i) * squareSize, 0.8 * squareSize, 0.8 * squareSize, 5);\n\n                let lines = parseInt(combo.original.substring(0, 1));\n                if (lines) {\n\n                    fill(250);\n                    if (lines >= 1) {\n                        rect(-6.65 * squareSize, (-3.8 + i) * squareSize, 0.25 * squareSize, 0.25 * squareSize, 2);\n                    }\n                    if (lines >= 2) {\n                        rect(-6.3 * squareSize, (-3.8 + i) * squareSize, 0.25 * squareSize, 0.25 * squareSize, 2);\n                    }\n                    if (lines >= 3) {\n                        rect(-6.65 * squareSize, (-3.45 + i) * squareSize, 0.25 * squareSize, 0.25 * squareSize, 2);\n                    }\n                    if (lines >= 4) {\n                        rect(-6.3 * squareSize, (-3.45 + i) * squareSize, 0.25 * squareSize, 0.25 * squareSize, 2);\n                    }\n\n                }\n                \n                i += 1;\n            }\n\n            textStyle(BOLD);\n            textSize(12 + 4 * count);\n            if (sumLines <= 1) {\n                fill(30, 50, 150);\n            } else if (sumLines <= 2) {\n                fill(140, 60, 10);\n            } else if (sumLines <= 3) {\n                fill(80, 30, 140);\n            } else if (sumLines <= 4) {\n                fill(30, 150, 130);\n            } else if (sumLines <= 5) {\n                fill(140, 130, 10)\n            } else if (sumLines <= 6) {\n                fill(30, 140, 20);\n            } else if (sumLines <= 7) {\n                fill(140, 30, 50);\n            } else {\n                let r = random(0, 1) < 0.5;\n                let g = random(0, 1) < 0.5;\n                let b = random(0, 1) < 0.5 && (!r && !g);\n\n                fill(r ? 250 : 50, g ? 250 : 50, b ? 250 : 50);\n            }\n            textAlign(RIGHT, BOTTOM);\n            text(`x${count}`, -6 * squareSize, -5 * squareSize);\n\n            textSize(16);\n            textAlign(RIGHT, TOP);\n            text(`${sumLines} ${sumLines === 1 ? 'line' : 'lines'}`, -6 * squareSize, -5 * squareSize);\n\n        }\n        textSize(16);\n        textStyle(BOLD);\n        textAlign(RIGHT, BOTTOM);\n        noStroke();\n        fill(0);\n        text(`${board.lines} line${board.lines === 1 ? '' : 's'}`, -6.5 * squareSize, 8 * squareSize);\n        text(`${board.juice} juice`, -6.5 * squareSize, 9 * squareSize);\n        text(`Level ${Math.floor(getJuiceLevel(board.juice))} (x${1 + Math.floor(getJuiceLevel(board.juice)) * 0.2})`, -6.5 * squareSize, 10 * squareSize);\n\n        textSize(300);\n        textStyle(BOLD);\n        textAlign(CENTER, CENTER);\n        noStroke();\n        fill(0, 100);\n        if (board.finishingMoves >= 0) {\n            text(board.finishingMoves, 0, 0);\n        }\n        \n    }\n\n    \n\n}\n\nfunction getKeyName(k) {\n    if (k === 37) {\n        return 'left';\n    }\n    if (k === 39) {\n        return 'right';\n    }\n    if (k === 40) {\n        return 'down';\n    }\n    if (k === 38) {\n        return 'up';\n    }\n    if (k === ' '.charCodeAt(0)) {\n        return 'space';\n    }\n    return String.fromCharCode(k);\n}\n\nfunction drawState() {\n    if (state.creatingNewAccount) {\n        drawCreateAccount();\n        return;\n    }\n\n    if (!socket.registered) {\n        image(images.nathan, 0, 0, width, height);\n\n        textSize(64);\n        fill(255);\n        text('Something went wrong!', 100, 100);\n        \n        return;\n    }\n\n    if (!game.inGame) {\n        stroke(0);\n        \n        fill(100, 100, 250);\n        beginShape();\n        vertex(-100, 10);\n        vertex(420 + 3000 * game.mainMenuAnim, 10);\n        vertex(400 + 3000 * game.mainMenuAnim, 85);\n        vertex(-100, 85);\n        endShape();\n\n        fill(250, 100, 120);\n        beginShape();\n        vertex(-100, 10);\n        vertex(400 + 1000 * game.mainMenuAnim, 10);\n        vertex(380 + 1000 * game.mainMenuAnim, 85);\n        vertex(-100, 85);\n        endShape();\n\n        fill(250);\n        beginShape();\n        vertex(-100, 10);\n        vertex(380 + 500 * game.mainMenuAnim, 10);\n        vertex(360 + 500 * game.mainMenuAnim, 85);\n        vertex(-100, 85);\n        endShape();\n\n        fill(0);\n        noStroke();\n        textSize(64);\n        textStyle(BOLD);\n        textAlign(LEFT, TOP);\n        text(\"Chentris 2\", 20 - 400 * game.mainMenuAnim, 20);\n\n        push();\n\n        translate(0, -600 * game.mainMenuAnim);\n\n        textAlign(LEFT, TOP);\n        textStyle(BOLD);\n        textSize(16);\n        noStroke();\n        fill(0);\n        text('TOP NORMAL', width - 650, 10);\n        text('TOP COMPETITIVE', width - 450, 10);\n\n        push();\n\n        for (let i = 0; i < 20; i += 1) {\n            translate(-game.mainMenuAnim * 10, -40 * game.mainMenuAnim * i);\n            noStroke();\n            fill(0);\n            textAlign(RIGHT, TOP);\n            textStyle(BOLD);\n            text(`${i + 1}.`, width - 655, 30 + 20 * i);\n            text(`${i + 1}.`, width - 455, 30 + 20 * i);\n\n            textAlign(LEFT, TOP);\n            if (game.leaderboard.normal[i] && game.leaderboard.normal[i].id === game.playerData._id) {\n                textStyle(BOLD);\n            } else {\n                textStyle(NORMAL);\n            }\n            text(game.leaderboard.normal[i] ? game.leaderboard.normal[i].username : '-', width - 650, 30 + 20 * i);\n            if (game.leaderboard.competitive[i] && game.leaderboard.competitive[i].id === game.playerData._id) {\n                textStyle(BOLD);\n            } else {\n                textStyle(NORMAL);\n            }\n            text(game.leaderboard.competitive[i] ? game.leaderboard.competitive[i].username : '-', width - 450, 30 + 20 * i);\n\n            textStyle(ITALIC);\n            textAlign(RIGHT, TOP);\n            text(game.leaderboard.normal[i] ? game.leaderboard.normal[i].elo : '-', width - 500, 30 + 20 * i);\n            text(game.leaderboard.competitive[i] ? game.leaderboard.competitive[i].elo : '-', width - 300, 30 + 20 * i);\n\n            noFill();\n            stroke(0);\n\n            image(getRank(game.leaderboard.normal[i] ? game.leaderboard.normal[i].elo : 0).icon, width - 495, 37 + 20 * i - 8, 16, 16);\n            image(getRank(game.leaderboard.competitive[i] ? game.leaderboard.competitive[i].elo : 0).icon, width - 295, 37 + 20 * i - 8, 16, 16);\n\n            rect(width - 495, 37 + 20 * i - 8, 16, 16);\n            rect(width - 295, 37 + 20 * i - 8, 16, 16);\n            \n        }\n\n        pop();\n\n        fill(250);\n        stroke(0);\n\n        textSize(32);\n\n        beginShape();\n        vertex(width - 10, 15);\n        vertex(width - 50 - textWidth(game.playerData.username), 15);\n        vertex(width - 40 - textWidth(game.playerData.username), 70);\n        vertex(width - 10, 70);\n        endShape(CLOSE);\n\n        noStroke();\n        fill(0);\n\n        textAlign(RIGHT, TOP);\n        text(game.playerData.username, width - 20, 20);\n\n        textStyle(NORMAL);\n        textSize(16);\n        fill(200);\n        text(`(#${game.playerData._id.substring(32)})`, width - 20, 50);\n\n        stroke(0);\n        fill(250);\n        rect(width - 100, 80, 90, 95);\n        rect(width - 200, 80, 90, 95);\n\n        noStroke();\n        fill(0);\n        textStyle(BOLD);\n        textAlign(CENTER, TOP);\n\n        textSize(10);\n        text('Normal', width - 155, 88);\n        text('Competitive', width - 55, 88);\n        \n        textSize(16);\n        text(game.playerData.normalElo + ' (#' + game.normalRank + ')', width - 155, 100);\n        text(game.playerData.compElo + ' (#' + game.competitiveRank + ')', width - 55, 100);\n\n        const normalRank = getRank(game.playerData.normalElo);\n        const compRank = getRank(game.playerData.compElo);\n\n        image(normalRank.icon, width - 170, 120);\n        image(compRank.icon, width - 70, 120);\n\n        textSize(12);\n        textStyle(NORMAL);\n        text(normalRank.name, width - 154, 156);\n        text(compRank.name, width - 54, 156);\n\n        stroke(0);\n        fill(250);\n        rect(width - 200, 185, 190, 60);\n        rect(width - 200, 255, 190, 30);\n\n        fill(0);\n        noStroke();\n        textStyle(BOLD);\n        textAlign(LEFT, TOP);\n        textSize(16);\n        const level = floor(getLevel(game.playerData.xp)) ;\n        text(`Level ${level}`, width - 190, 190);\n        \n        const baseLevelXp = getXp(level);\n        const nextLevelXp = getXp(level + 1);\n        const deltaXp = nextLevelXp - baseLevelXp;\n        const progress = game.playerData.xp - baseLevelXp;\n\n        textSize(12);\n        textStyle(NORMAL);\n        text(`${progress.toLocaleString()} / ${deltaXp.toLocaleString()}`, width - 190, 205);\n\n        textAlign(LEFT, TOP);\n        text(baseLevelXp.toLocaleString(), width - 190, 230);\n\n        textAlign(RIGHT, TOP);\n        text(nextLevelXp.toLocaleString(), width - 20, 230);\n        \n        stroke(200);\n        fill(250);\n        rect(width - 190, 217, 170, 10);\n        stroke(0);\n        fill(50 + sqrt(progress / deltaXp) * 250, 50, 50 + sqrt(1 - progress / deltaXp) * 250);\n        rect(width - 190, 217, 170 * (progress / deltaXp), 10);\n\n        stroke(0);\n        fill(50 + random(0, 50), 100 + random(0, 50), 200 + random(0, 50));\n        rect(width - 30, 265, 10, 10);\n\n        textAlign(RIGHT, CENTER);\n        textSize(16);\n        noStroke();\n        fill(0);\n        text(game.playerData.juice.toLocaleString(), width - 35, 271);\n\n        pop();\n\n        push();\n\n        translate(300 * game.mainMenuAnim, 0);\n        textAlign(RIGHT, TOP);\n        textSize(16);\n        let prevElo = 0;\n        for (let i = 0; i < RANKS.length; i++) {\n            let rank = RANKS[i];\n            image(rank.icon, width - 40, height - 40 - 40 * i);\n            textStyle(BOLD);\n            text(rank.name, width - 45, height - 40 - 40 * i);\n            textStyle(NORMAL);\n            if (rank.elo < 1000000000) {\n                text(prevElo + ' - ' + (rank.elo - 1), width - 45, height - 20 - 40 * i);\n            } else {\n                text(prevElo + '+', width - 45, height - 20 - 40 * i);\n            }\n            prevElo = rank.elo;\n        }\n\n        pop();\n        textAlign(LEFT, CENTER);\n        textSize(24);\n        textStyle(BOLD);\n\n        for (let i = 0; i < game.menu.length; i++) {\n            const menu = game.menu[i];\n            const anim = (1000 * pow(2, i)) * game.menuAnim;\n            const backAnim = (2000 * pow(2, i)) * game.menuAnim;\n\n            stroke(0);\n            fill(230);\n\n            beginShape();\n            vertex(-100, 100 + i * 50);\n            vertex(310 - backAnim - i * 10 + game.menuButtonAnims[i] * 20, 100 + i * 50);\n            vertex(300 - backAnim - i * 10 + game.menuButtonAnims[i] * 20, 140 + i * 50);\n            vertex(-100, 140 + i * 50);\n            endShape();\n\n            fill(255);\n\n            beginShape();\n            vertex(-100, 100 + i * 50);\n            vertex(300 - anim - i * 10 + game.menuButtonAnims[i] * 10, 100 + i * 50);\n            vertex(290 - anim - i * 10 + game.menuButtonAnims[i] * 10, 140 + i * 50);\n            vertex(-100, 140 + i * 50);\n            endShape();\n\n            noStroke();\n            fill(0);\n\n            text(menu.name, 20 - anim, 122 + i * 50);\n        }\n\n        if (state.joiningMatch) {\n            stroke(0);\n            fill(250);\n            rect(width / 2 - 200, height / 2 - 50, 400, 100);\n            fill(0);\n            noStroke();\n            textSize(16);\n            textStyle(BOLD);\n            textAlign(CENTER, TOP);\n            text('Enter Join Code', width / 2, height / 2 - 40);\n\n            textSize(32);\n            for (let i = 0; i < 4; i++) {\n                const x = (i - 1.5) * (380 / 9);\n                rect(width / 2 - x - 10, height / 2 + 40, 20, 2);\n\n                const char = game.typedString.charAt(i);\n                \n                if (char) {\n                    text(char, width / 2 + x, height / 2);\n                }\n            }\n\n            fill(250, 120, 100);\n            drawButton(width / 2 + 160, height / 2 - 50, 40, 20, 'x', () => fill(230, 100, 80), () => fill(220, 90, 70));\n        }\n\n        if (state.inSettings) {\n            stroke(0);\n            fill(250);\n            rect(width / 2 - 500, height / 2 - 300, 1000, 600);\n\n            line(width / 2, height / 2 - 300, width / 2, height / 2 + 300);\n\n            fill(250, 120, 100);\n            drawButton(width / 2 + 460, height / 2 - 300, 40, 20, 'x', () => fill(230, 100, 80), () => fill(220, 90, 70));\n\n            textSize(24);\n            textStyle(BOLD);\n            textAlign(LEFT, TOP);\n            text('Settings', width / 2 - 490, height / 2 - 290);\n            text('Controls', width / 2 + 10, height / 2 - 290);\n\n            textStyle(NORMAL);\n            textAlign(LEFT, TOP);\n            textSize(16);\n            text('Move Left', width / 2 + 10, height / 2 - 250);\n            text('Move Right', width / 2 + 10, height / 2 - 220);\n            text('Soft Drop', width / 2 + 10, height / 2 - 190);\n            text('Hard Drop', width / 2 + 10, height / 2 - 160);\n            text('Rotate Left', width / 2 + 10, height / 2 - 130);\n            text('Rotate Right', width / 2 + 10, height / 2 - 100);\n            text('Rotate 180', width / 2 + 10, height / 2 - 70);\n            text('Hold', width / 2 + 10, height / 2 - 40);\n\n            fill(250);\n            drawButton(width / 2 + 140, height / 2 - 250, 100, 20, getKeyName(settings['controls.left']), () => fill(230), () => fill(210));\n            fill(250);\n            drawButton(width / 2 + 140, height / 2 - 220, 100, 20, getKeyName(settings['controls.right']), () => fill(230), () => fill(210));\n            fill(250);\n            drawButton(width / 2 + 140, height / 2 - 190, 100, 20, getKeyName(settings['controls.down']), () => fill(230), () => fill(210));\n            fill(250);\n            drawButton(width / 2 + 140, height / 2 - 160, 100, 20, getKeyName(settings['controls.drop']), () => fill(230), () => fill(210));\n            fill(250);\n            drawButton(width / 2 + 140, height / 2 - 130, 100, 20, getKeyName(settings['controls.rotateLeft']), () => fill(230), () => fill(210));\n            fill(250);\n            drawButton(width / 2 + 140, height / 2 - 100, 100, 20, getKeyName(settings['controls.rotateRight']), () => fill(230), () => fill(210));\n            fill(250);\n            drawButton(width / 2 + 140, height / 2 - 70, 100, 20, getKeyName(settings['controls.rotate180']), () => fill(230), () => fill(210));\n            fill(250);\n            drawButton(width / 2 + 140, height / 2 - 40, 100, 20, getKeyName(settings['controls.hold']), () => fill(230), () => fill(210));\n\n            fill(250);\n            drawButton(width / 2 + 340, height / 2 + 260, 150, 30, 'Reset Settings', () => fill(230), () => fill(210));\n\n            if (game.awaitingKeypress) {\n                fill(0);\n                textSize(16);\n                noStroke();\n                textAlign(LEFT, TOP);\n                textStyle(BOLD);\n                text('Press any key to set keybind. Press ESC to cancel.', width / 2 + 10, height / 2); // text for when you are setting a control\n            }\n        }\n\n        textAlign(LEFT, TOP);\n        textSize(16);\n        text('Update 2', 20 - 400 * game.mainMenuAnim, height - 200);\n        textStyle(NORMAL);\n        text('- Fixed more than 2 players not sending lines', 20 - 400 * game.mainMenuAnim, height - 180);\n        text('- Fixed score after matches', 20 - 400 * game.mainMenuAnim, height - 160);\n        text('- Lobby codes are 4 numbers instead of 9', 20 - 400 * game.mainMenuAnim, height - 140);\n        text('- Find matches now works for the first time', 20 - 400 * game.mainMenuAnim, height - 120);\n        text('- Added leaderboard and rankings', 20 - 400 * game.mainMenuAnim, height - 100);\n        text('- Initial speed actually changes speed', 20 - 400 * game.mainMenuAnim, height - 80);\n\n        return;\n    }\n    \n    // In game\n    if (game.gameData.match.over && game.gameData.match.matchOverDelay >= 20) {\n        fill(0);\n        noStroke();\n        textStyle(BOLD);\n        textAlign(LEFT, TOP);\n        textSize(32);\n        text('Match Results', 20, 20);\n        textSize(24);\n        const winner = game.gameData.match.data[game.gameData.match.results.winner];\n        text('Winner: ' + (winner ? winner.username : 'Nobody'), 20, 60);\n        text(`Returning to lobby in ${floor((400 - game.gameData.match.matchOverDelay) / 20)}...`, 20, height - 50);\n\n        const rewards = game.gameData.match.results.rewards[game.playerData._id];\n        const anim = clamp(game.gameData.match.matchOverDelay - 20, 0, 80) / 80;\n\n        const animXp = floor(game.playerData.xp + anim * rewards.xp);\n        const animElo = floor((game.gameData.match.rules.competitive ? game.playerData.compElo : game.playerData.normalElo) + anim * rewards.elo);\n        const animJuice = floor(game.playerData.juice + anim * rewards.juice);\n\n        text(`XP: +${floor(anim * rewards.xp)}`, 20, height - 200);\n        text(`JUICE: +${floor(anim * rewards.juice)}`, 20, height - 170);\n        text(`ELO: ${rewards.elo > 0 ? '+' : ''}${round(anim * rewards.elo)}`, 20, height - 140);\n\n        fill(0);\n        textAlign(LEFT, BOTTOM);\n        textSize(24);\n        const level = floor(getLevel(animXp)) ;\n        text(`Level ${level}`, 40, 200);\n        \n        const baseLevelXp = getXp(level);\n        const nextLevelXp = getXp(level + 1);\n        const deltaXp = nextLevelXp - baseLevelXp;\n        const progress = animXp - baseLevelXp;\n\n        fill(0);\n        textSize(20);\n        textStyle(NORMAL);\n        text(`${progress.toLocaleString()} / ${deltaXp.toLocaleString()}`, 40, 220);\n\n        textAlign(LEFT, TOP);\n        text(baseLevelXp.toLocaleString(), 40, 245);\n\n        textAlign(RIGHT, TOP);\n        text(nextLevelXp.toLocaleString(), width - 40, 245);\n        \n        stroke(200);\n        fill(250);\n        rect(40, 220, width - 80, 20);\n        stroke(0);\n        fill(50 + sqrt(progress / deltaXp) * 250, 50, 50 + sqrt(1 - progress / deltaXp) * 250);\n        rect(40, 220, (width - 80) * (progress / deltaXp), 20);\n\n        fill(50 + random(0, 50), 100 + random(0, 50), 200 + random(0, 50));\n        rect(300, 310, 20, 20);\n\n        noStroke();\n\n        fill(0);\n        textAlign(RIGHT, CENTER);\n        textSize(24);\n        text(animJuice.toLocaleString(), 290, 320);\n\n        const rank = getRank(animElo);\n        text(animElo, 590, 320);\n\n        image(rank.icon, 600, 300, 40, 40);\n        textSize(16);\n        text(rank.name, 590, 340);\n\n        return;\n    }\n    \n    push();\n\n    let deadAnimX = 0;\n    let deadAnimY = 0;\n\n    if (!game.localData.board) {\n        return;\n    }\n\n    if (game.localData.board.lost) {\n\n        const anim = game.localData.deadAnim * 50;\n        deadAnimY = (anim ** 2) - 20 * anim;\n        deadAnimX = - ( anim * log(anim + 1) );\n    }\n    \n\n    translate(game.boardOrigin[0] + deadAnimX, game.boardOrigin[1] + deadAnimY);\n    rotate(game.boardRotation + deadAnimX * 0.002);\n    scale(game.boardScale);\n    translate(game.boardTranslation[0], game.boardTranslation[1]);\n    \n    drawBoard(game.localData.board, game.localData.state, game.localData.timers, SQUARE_SIZE, 5);\n\n    \n    if (!game.gameData.match.playing) {\n        textStyle(BOLD);\n        textSize(32);\n        textAlign(CENTER, CENTER);\n        fill(0, 100);\n        noStroke();\n        text('Practice', 0, 0);\n\n    } else {\n        textSize(20);\n        textAlign(CENTER, TOP);\n        textStyle(BOLD);\n        fill(0);\n        noStroke();\n        text(`${game.gameData.match.kills[game.playerData._id]} KO${game.gameData.match.kills[game.playerData._id] === 1 ? '' : 's'}`, 0, 11 * SQUARE_SIZE);\n    }\n\n    \n\n    pop();\n\n    textStyle(BOLD);\n    textAlign(CENTER, CENTER);\n    noStroke();\n\n    for (let notif of game.boardNotifications) {\n        textSize(16 + sqrt(notif.time) * 100);\n        fill(0, 300 * (1 - notif.time));\n        text(notif.text, game.boardOrigin[0], game.boardOrigin[1]);\n    }\n\n    if (!game.gameData.match.playing) {\n        push();\n\n        translate(-game.matchAnim * 400, 0);\n\n        fill(250);\n        stroke(0);\n        rect(10, 30, 200, 250);\n        rect(10, 310, 200, 200);\n\n        fill(0);\n        noStroke();\n        textSize(16);\n        \n        textStyle(BOLD);\n\n        textAlign(CENTER, BOTTOM);\n        text('Match', 110, 25);\n        text('Rules', 110, 304);\n\n        textAlign(LEFT, TOP);\n        text('Code', 20, 40);\n\n        textSize(32);\n        for (let i = 0; i < 4; i++) {\n            text(game.gameData.match.joinCode[i], 20 + i * 20, 60);\n        }\n\n        stroke(0);\n        fill(120, 100, 250);\n        drawButton(20, 95, 180, 30, 'Copy Link', () => fill(100, 80, 230), () => {}, !game.gameData.match.options.allowJoining);\n\n        fill(250, 120, 100);\n        drawButton(20, 130, 180, 30, 'Leave Match', () => fill(230, 100, 80), () => {});\n\n        textAlign(LEFT, TOP);\n        fill(0);\n        text('Allow joining', 20, 200);\n        text('Public', 20, 225);\n        text('Ranked', 20, 250);\n\n        function getOption(name) {\n            return game.gameData.match.options[name];\n        }\n\n        function getRule(name) {\n            return game.gameData.match.rules[name];\n        }\n\n        drawSelect(150, 200, 50, 20, ON_OR_OFF, () => getOption('allowJoining'), false);\n        drawSelect(150, 225, 50, 20, ON_OR_OFF, () => getOption('public'), false);\n        drawSelect(150, 250, 50, 20, ON_OR_OFF, () => getOption('ranked'), false);\n\n        textAlign(LEFT, TOP);\n        text('Competitive', 20, 325);\n        text('Initial Speed', 20, 350);\n        text('Resend Garbage', 20, 375);\n        text('Forgiving Combos', 20, 400);\n        text('Garbage Turns', 20, 425);\n        text('Garbage Defense', 20, 450);\n\n        drawSelect(150, 325, 50, 20, ON_OR_OFF, () => getRule('competitive'), false);\n        drawSelect(150, 350, 50, 20, [ { key: 'slow', value: 80 }, { key: 'medium', value: 320 }, { key: 'fast', value: 640 }, { key: 'very fast', value: 1280 }, { key: 'good luck', value: 5120 }, { key: 'why', value: 40960 }, { key: 'snail', value: 20 }], () => getRule('initialSpeed'), getRule('competitive'));\n        drawSelect(150, 375, 50, 20, ON_OR_OFF, () => getRule('resendGarbage'), getRule('competitive'));\n        drawSelect(150, 400, 50, 20, ON_OR_OFF, () => getRule('forgivingCombos'), getRule('competitive'));\n        drawSelect(150, 425, 50, 20, [{ key: 'one', value: 1 }, { key: 'two', value: 2 }, { key: 'three', value: 3 }], () => getRule('garbageTurns'), getRule('competitive'));\n        drawSelect(150, 450, 50, 20, ON_OR_OFF, () => getRule('garbageDefense'), getRule('competitive'));\n\n        pop();\n\n        for (let i = 0; i < game.gameData.match.players.length; i++) {\n            const id = game.gameData.match.players[i];\n            const userData = game.gameData.match.data[id];\n\n            if (!userData) {\n                continue;\n            }\n\n            const y = i * 45;\n            \n            fill(250);\n            stroke(0);\n            rect(width - 210, 10 + y, 200, 40);\n            rect(width - 45, 15 + y, 30, 30);\n\n            fill(0);\n            noStroke();\n            textAlign(RIGHT, TOP);\n            textStyle(BOLD);\n            textSize(16);\n            text(userData.username, width - 50, 15 + y);\n            \n            const elo = game.gameData.match.rules.competitive ? userData.compElo : userData.normalElo;\n            const rank = getRank(elo);\n\n            textStyle(NORMAL);\n            text(elo, width - 70, 33 + y);\n\n            textStyle(BOLD);\n            textSize(12);\n            textAlign(CENTER, CENTER);\n            text(getLevel(userData.xp), width - 30, 30 + y);\n\n            image(rank.icon, width - 65, 32 + y, 14, 14);\n        \n            stroke(0);\n            noFill();\n            rect(width - 65, 32 + y, 14, 14);\n\n            if (userData._id === game.playerData._id) {\n                fill(250);\n                triangle(width - 250, 20 + y, width - 250, 40 + y, width - 230, 30 + y);\n            } \n\n            if (userData._id === game.gameData.match.leader) {\n                fill(220, 160, 100);\n\n                beginShape();\n                vertex(width - 200, 20 + y);\n                vertex(width - 195, 30 + y);\n                vertex(width - 190, 20 + y);\n                vertex(width - 185, 30 + y);\n                vertex(width - 180, 20 + y);\n                vertex(width - 180, 40 + y);\n                vertex(width - 200, 40 + y);\n                endShape(CLOSE);\n            }\n            \n            \n            if (game.gameData.match.ready[id]) {\n                fill(100, 250, 120);\n            } else {\n                fill(250, 120, 100);\n            }\n            \n            rect(width - 220, 10 + y, 10, 40);\n        }\n\n        \n        if (game.localData.ready) {\n            fill(100, 250, 120);\n        } else {\n            fill(250, 120, 100);\n        }\n\n        textSize(12);\n        textAlign(RIGHT, CENTER);\n        textStyle(BOLD);\n        noStroke();\n        text(`You are ${game.localData.ready ? 'READY' : 'NOT READY'}.`, width - 220, height / 2);\n\n    } else {\n\n        fill(0);\n        textAlign(LEFT, TOP);\n        textSize(16);\n        textStyle(BOLD);\n        \n        const players = game.gameData.match.players.filter(id => id !== game.playerData._id);\n        const alivePlayers = game.gameData.match.players.filter(id => !game.gameData.match.boards[id].lost);\n        \n        for (let id of players) {\n            const pos = game.localData.boardAnims[id];\n\n            if (pos[2] > 5) {\n                continue;\n            }\n\n            push();\n            translate(pos[0], pos[1]);\n            rotate(- ( pos[2] * 50 * log(pos[2] * 50 + 1) ) * 0.002);\n            \n            drawBoard(game.gameData.match.boards[id], game.gameData.match.states[id].state || defaultSubmoveState(), \n                game.gameData.match.states[id].timers || { fall: 0, dropping: false, shortDrop: 0, longDrop: 0}, \n            game.localData.boardSizes[id], alivePlayers.length >= 25 ? 0 : ( alivePlayers.length >= 17 ? 1 : ( alivePlayers.length >= 10 ? 2 : ( alivePlayers.length >= 5 ? 3 : (alivePlayers.length <= 2 ? 4 : 3)))));\n\n            noStroke();\n            fill(0);\n            textSize(16);\n            textAlign(CENTER, BOTTOM);\n            textStyle(BOLD);\n            text(`${game.gameData.match.data[id].username} (${game.gameData.match.kills[id]} KO${game.gameData.match.kills[id] === 1 ? '' : 's'})`, 0, -11 * game.localData.boardSizes[id]);\n\n            pop();\n        }\n        \n        if (alivePlayers.length > 2) {\n            for (let i = 0; i < 5; i += 1) {\n                stroke(0);\n                fill(game.localData.attackOption === i ? 0 : 250);\n                rect(width / 2 - 250 + i * 100, height - 35, 95, 20);\n                rect(width / 2 - 250 + i * 100, height - 40, 30, 30);\n\n                noStroke();\n                fill(game.localData.attackOption === i ? 250 : 0);\n                textAlign(CENTER, CENTER);\n                textStyle(BOLD);\n                text(i + 1, width / 2 - 235 + i * 100, height - 25);\n\n                textStyle(NORMAL);\n                textAlign(LEFT, CENTER);\n                if (i === 0) {\n                    text('random', width / 2 - 216 + i * 100, height - 24);\n                } else if (i === 1) {\n                    text('kills', width / 2 - 216 + i * 100, height - 24);\n                } else if (i === 2) {\n                    text('revenge', width / 2 - 216 + i * 100, height - 24);\n                } else if (i === 3) {\n                    text('winners', width / 2 - 216 + i * 100, height - 24);\n                } else if (i === 4) {\n                    text('losers', width / 2 - 216 + i * 100, height - 24);\n                }\n                \n            }\n        }\n\n        if (game.localData.board.lost) {\n            textSize(32);\n            textStyle(BOLD);\n            textAlign(CENTER, CENTER);\n            fill(0);\n            noStroke();\n            if (game.gameData.match.results.winner === game.playerData._id) {\n                text('You win!', game.boardOrigin[0], game.boardOrigin[1]);\n            } else {\n                text('You are eliminated!', game.boardOrigin[0], game.boardOrigin[1]);\n            }\n        }\n\n    }\n\n}\n\nfunction draw() {\n    update();\n    updateInput();\n    if (game.loading) {\n        drawLoading();\n        drawError();\n        return;\n    }\n    background(250);\n    drawState();\n    drawError();\n}"],"names":[],"version":3,"file":"index.a8b85b30.js.map","sourceRoot":"/__parcel_source_root/"}